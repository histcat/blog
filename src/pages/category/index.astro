---
import { getCollection } from "astro:content";
import CategoryIndex from "../../layouts/CategoryIndex.astro";
import { BASIC_INFO } from "../../consts";

const posts = await getCollection("posts", ({ data } : any) => !data.draft);
const categories = [...new Set(posts.flatMap((post: any) => post.data.category || []))].sort();
    
---

<CategoryIndex title={"分类 - " + BASIC_INFO.SITE_NAME}, categories={categories}/>